[TOC]

# 第 1 章 开始

## 1.1 编写一个简单的 C++ 程序

- 1.1

  使用的编译器：clang++

  ```c++
  int main(int argc, char const *argv[]) { return 0; }
  ```

  系统输出

  ```shell
  Process exited with status 0
  ```



- 1.2

  ```c++
  int main(int argc, char const *argv[]) { return -1; }
  ```

  系统输出

  ```shell
  Process exited with status 255
  ```



## 1.2 初识输入输出

- 1.3

  ```c++
  #include <iostream>
  
  int main(int argc, char const *argv[]) {
    std::cout << "Hello, World" << std::endl;
    return 0;
  }
  ```



- 1.4

  ```c++
  #include <iostream>
  
  int main(int argc, char const *argv[]) {
    std::cout << "Enter two numbers:" << std::endl;
    int num1 = 0, num2 = 0;
    std::cin >> num1 >> num2;
    std::cout << "The product of " << num1 << " and " << num2 << " is "
              << num1 * num2 << std::endl;
    return 0;
  }
  ```



- 1.5

  ```c++
  #include <iostream>
  
  int main(int argc, char const *argv[]) {
    std::cout << "Enter two numbers:" << std::endl;
    int num1 = 0, num2 = 0;
    std::cin >> num1 >> num2;
    std::cout << "The product of ";
    std::cout << num1;
    std::cout << " and ";
    std::cout << num2;
    std::cout << " is ";
    std::cout << num1 * num2 << std::endl;
    return 0;
  }
  ```



- 1.6

  程序不合法，因为分号为一条语句结束的标志，故第 2、3 行代码的第一个输出运算符 `<<` 没有左侧的 ostream 对象，无法正确输出。正确代码如下：

  ```c++
  std::cout << "The sum of " << v1;
  std::cout << " and " << v2;
  std::cout << " is " << v1 + v2 << std::endl;
  ```



## 1.3 注释简介

- 1.7

  编译不正确嵌套的错误信息：

  ```shell
  warning: '/*' within block comment [-Wcoment]
  error: expected expression
  1 warning and 2 errors generated.
  ```



- 1.8

  `Std::cout << "/*";` 合法（未构成注释对），输出 `/*`

  `std::cout << "*/";` 合法（未构成注释对），输出 `*/`

  `std::cout << /* "*/" */;` 不合法，编译输出 `warning: missing terminating`

  `std::cout << /* "*/" /* "/*" */;` 合法，输出 ` /* `



## 1.4 控制流

### 1.4.1 while 语句

- 1.9

  ```c++
  #include <iostream>
  
  int main(int argc, char const *argv[]) {
    int sum = 0, val = 50;
    while (val <= 100) {
      sum += val;
      ++val;
    }
    std::cout << "Sum of 50 to 100 inclusive is " << sum << std::endl;
    return 0;
  }
  ```



- 1.10

  ```c++
  #include <iostream>
  
  int main(int argc, char const *argv[]) {
    int val = 10;
    while (val >= 0) {
      std::cout << val << std::endl;
      --val;
    }
    return 0;
  }
  ```



- 1.11

  ```c++
  #include <iostream>
  
  int main(int argc, char const *argv[]) {
    std::cout << "Enter two numbers:" << std::endl;
    int num1 = 0, num2 = 0;
    std::cin >> num1 >> num2;
    std::cout << "Numbers between " << num1 << " and " << num2 << " are"
              << std::endl;
    while (num1 != num2) {
      std::cout << num1 << std::endl;
      ++num1;
    }
    std::cout << num2 << std::endl;
    return 0;
  }
  ```



### 1.4.2 for 语句

- 1.12

  此循环完成 -100 到 100 的所有整数的求和，`sum` 的终值为 0



- 1.13

  ```c++
  #include <iostream>
  
  int main(int argc, char const *argv[]) {
    // 1.9
    int sum = 0;
    for (int val = 50; val <= 100; ++val) {
      sum += val;
    }
    std::cout << "Sum of 50 to 100 inclusive is " << sum << std::endl
              << std::endl;
  
    // 1.10
    for (int val = 10; val >= 0; --val) {
      std::cout << val << std::endl;
    }
    std::cout << std::endl;
  
    // 1.11
    std::cout << "Enter two numbers:" << std::endl;
    int num1 = 0, num2 = 0;
    std::cin >> num1 >> num2;
    std::cout << "Numbers between " << num1 << " and " << num2 << " are"
              << std::endl;
    if (num1 > num2) {
      int temp = num1;
      num1 = num2;
      num2 = temp;
    }
    for (int val = num1; val <= num2; ++val) {
      std::cout << val << std::endl;
    }
  
    return 0;
  }
  ```



- 1.14
  - `for` 循环的循环控制变量的初始化和修改都放在语句头部分，形式较简洁，但适用于循环次数已知的情况；
  - `while` 循环的循环控制变量的初始化一般放在循环语句之前，控制变量的修改一般放在循环体中，形式不如 `for` 循环简洁，但适用于循环次数不易预知的情况。



- 1.15
  - 语法错误：`error: expected ';' at end of declaration`
  - 类型错误：`error: cannot initialize a variable of type 'int' with an lvalue of type 'const char [2]'`
  - 声明错误：`error: use of undeclared identifier 'd'`



### 1.4.3 读取数量不定的输入数据

- 1.16

  ```c++
  #include <iostream>
  
  int main(int argc, char const *argv[]) {
    int sum = 0, val = 0;
    while (std::cin >> val) {
      sum += val;
    }
    std::cout << "Sum is " << sum << std::endl;
    return 0;
  }
  ```



### 1.4.4 if 语句

- 1.17

  输入的所有值都相等时，输出 `3 occurs 6 times`

  没有重复值时，输出

  ```shell
  1 occurs 1 times
  2 occurs 1 times
  3 occurs 1 times
  ```



- 1.19

  ```c++
  #include <iostream>
  
  int main(int argc, char const *argv[]) {
    std::cout << "Enter two numbers:" << std::endl;
    int num1 = 0, num2 = 0;
    std::cin >> num1 >> num2;
    std::cout << "Numbers between " << num1 << " and " << num2 << " are"
              << std::endl;
    while (num1 != num2) {
      std::cout << num1 << std::endl;
      if (num1 < num2) {
        ++num1;
      } else {
        --num1;
      }
    }
    std::cout << num2 << std::endl;
    return 0;
  }
  ```



## 1.5 类简介

### 1.5.1 Sales_item 类

- 1.20

  ```c++
  #include <iostream>
  #include "Sales_item.h"
  
  int main(int argc, char const *argv[]) {
    Sales_item item;
    while (std::cin >> item) {
      std::cout << item << std::endl;
    }
    return 0;
  }
  ```



- 1.21

  ```c++
  #include <iostream>
  #include "Sales_item.h"
  
  int main(int argc, char const *argv[]) {
    Sales_item item1, item2;
    std::cin >> item1 >> item2;
    std::cout << item1 + item2 << std::endl;
    return 0;
  }
  ```



- 1.22

  ```c++
  #include <iostream>
  #include "Sales_item.h"
  
  int main(int argc, char const *argv[]) {
    Sales_item item, total;
    while (std::cin >> item) {
      total += item;
    }
    std::cout << "Total:" << total << std::endl;
    return 0;
  }
  ```



### 1.5.2 初识成员函数

- 1.23

  ```c++
  #include <iostream>
  #include "Sales_item.h"
  
  int main(int argc, char const *argv[]) {
    Sales_item currItem, item;
    if (std::cin >> currItem) {
      int cnt = 1;
      while (std::cin >> item) {
        if (item.isbn() == currItem.isbn()) {
          cnt++;
        } else {
          std::cout << "ISBN: " << currItem.isbn() << ", Num: " << cnt
                    << std::endl;
          currItem = item;
          cnt = 1;
        }
      }
      std::cout << "ISBN: " << currItem.isbn() << ", Num: " << cnt << std::endl;
    }
    return 0;
  }
  ```



- 1.24

  输入

  ```
  0-201-78345-X 3 20.00
  0-201-78345-X 2 25.00
  0-201-78345-X 3 20.00
  
  0-201-78343-X 2 25.00
  0-201-78343-X 3 20.00
  
  0-201-78347-X 2 25.00
  0-201-78347-X 3 20.00
  0-201-78347-X 2 25.00
  ```

  输出 `Total: 20 440 22 `



## 1.6 书店程序

- 1.25

  ```c++
  #include <iostream>
  #include "Sales_item.h"
  
  int main(int argc, char const *argv[]) {
    Sales_item total;
    if (std::cin >> total) {
      Sales_item trans;
      while (std::cin >> trans) {
        if (total.isbn() == trans.isbn()) {
          total += trans;
        } else {
          std::cout << total << std::endl;
          total = trans;
        }
      }
      std::cout << total << std::endl;
    } else {
      std::cerr << "No data?!" << std::endl;
      return -1;
    }
    return 0;
  }
  ```


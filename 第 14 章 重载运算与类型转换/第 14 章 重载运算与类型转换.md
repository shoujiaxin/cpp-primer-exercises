# 14.1 基本概念

### 练习 14.1

> 在什么情况下重载的运算符与内置运算符有所区别？在什么情况下重载的运算符又与内置运算符一样？

内置运算符的含义无法改变，而重载运算符的可以。

### [练习 14.2](14.2.hpp)

> 为 Sales_data 编写重载的输入、输出、加法和复合赋值运算符。

### 练习 14.3

> string 和 vector 都定义了重载的 == 以比较各自的对象，假设 svec1 和 svec2 是存放 string 的 vector，确定在下面的表达式中分别使用了哪个版本的 ==？
>
> (a) `"cobble" == "stone"`
>
> (b) `svec1[0] == svec2[0]`
>
> (c) `svec1 == svec2`
>
> (d) `svec1[0] == "stone"`

- 二者都不是
- `string` 的 `==`
- `vector` 的 `==`
- `string` 的 `==`

### 练习 14.4

> 如何确定下列运算符是否应该是类的成员？
>
> (a) `%`
>
> (b) `%=`
>
> (c) `++`
>
> (d) `->`
>
> (e) `<<`
>
> (f) `&&`
>
> (g) `==`
>
> (h) `()`

- 不是类的成员
- 是类的成员
- 是类的成员
- 是类的成员（必须）
- 不是类的成员
- 不是类的成员
- 不是类的成员
- 是类的成员（必须）

### [练习 14.5](14.5.hpp)

> 在 7.5.1 节中的[练习 7.40](../第%207%20章%20类/第%207%20章%20类.md#练习-740)（第 261 页）中，编写了下列类中某一个的框架，请问在这个类中应该定义重载的运算符吗？如果是，请写出来。
>
> (a) Book
>
> (b) Date
>
> (c) Employee
>
> (d) Vehicle
>
> (e) Object
>
> (f) Tree

# 14.2 输入和输出运算符

## 14.2.1 重载输出运算符 <<

### [练习 14.6](14.2.hpp)

> 为你的 Sales_data 类定义输出运算符。

### [练习 14.7](14.7.hpp)

> 你在 [13.5 节的练习](../第%2013%20章%20拷贝控制/第%2013%20章%20拷贝控制.md#练习-1344)（第 470 页）中曾经编写了一个 String 类，为它定义一个输出运算符。

### [练习 14.8](14.5.hpp)

> 你在 7.5.1 节中的[练习 7.40](../第%207%20章%20类/第%207%20章%20类.md#练习-740)（第 261 页）中曾经选择并编写了一个类，为它定义一个输出运算符。

## 14.2.2 重载输入运算符 >>

### [练习 14.9](14.2.hpp)

> 为你的 Sales_data 类定义输入运算符。

### 练习 14.10

> 对于 Sales_data 的输入运算符来说如果给定了下面的输入将发生什么情况？
>
> (a) 0-201-99999-9 10 24.95
>
> (b) 10 24.95 0-210-99999-9

- 输入正确
- 程序试图将 `0-210-99999-9` 转换为 `float` 类型

### 练习 14.11

> 下面的 Sales_data 输入运算符存在错误吗？如果有，请指出来。对于这个输入运算符如果仍然给定上个练习的输入将会发生什么情况？
>
> ```c++
> istream& operator>>(istream& in, Sales_data& s) {
>   double price;
>   in >> s.bookNo >> s.units_sold >> price;
>   s.revence = s.units_sold >> price;
>   return in;
> }
> ```

没有处理输入可能失败的情况。给定上一题的输入其情况与上一题相同。

### [练习 14.12](14.12.hpp)

> 你在 7.5.1 节中的[练习 7.40](../第%207%20章%20类/第%207%20章%20类.md#练习-740)（第 261 页）中曾经选择并编写了一个类，为它定义一个输入运算符并确保该运算符可以处理输入错误。

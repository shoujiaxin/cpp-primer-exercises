# 13.1 拷贝、赋值与销毁

## 13.1.1 拷贝构造函数

### 练习 13.1

> 拷贝构造函数是什么？什么时候使用它？



### 练习 13.2

> 解释为什么下面的声明是非法的：
>
> ```c++
> Sales_data::Sales_data(Sales_data rhs);
> ```



### 练习 13.3

> 当我们拷贝一个 StrBlob 时，会发生什么？拷贝一个 StrBlobPtr 呢？



### 练习 13.4

> 假定 Point 是一个类类型，它有一个 public 的拷贝构造函数，指出下面程序片段中哪些地方使用了拷贝构造函数：
>
> ```c++
> Point global;
> Point foo_bar(Point arg) {
>   Point local = arg, *heap = new Point(global);
>   *heap = local;
>   Point pa[4] = {local, *heap};
>   return *heap;
> }
> ```



### 练习 13.5

> 给定下面的类框架，编写一个拷贝构造函数，拷贝所有成员。你的构造函数应该动态分配一个新的 string（参见 12.1.2 节，第 407 页），并将对象拷贝到 ps 所指向的位置，而不是拷贝 ps 本身：
>
> ```c++
> class HasPtr {
>  public:
>   HasPtr(const std::string& s = std::string()) : ps(new std::string(s)), i(0) {}
> 
>  private:
>   std::string* ps;
>   int i;
> }
> ```

# 1.1 编写一个简单的 C++ 程序

### 练习 1.1

> 查阅你使用的编译器的文档，确定它所使用的文件命名约定。编译并运行第 2 页的 main 程序。

使用的编译器：clang++

```c++
int main(int argc, char const *argv[]) { return 0; }
```

系统输出

```shell
Process exited with status 0
```



### 练习 1.2

> 改写程序，让它返回 -1。返回值 -1 通常被当作程序错误的标识。重新编译并运行你的程序，观察你的系统如何处理 main 返回的错误标识。

```c++
int main(int argc, char const *argv[]) { return -1; }
```

系统输出

```shell
Process exited with status 255
```



# 1.2 初识输入输出

### [练习 1.3](1.3.cpp)

> 编写程序，在标准输出上打印 Hello, World。



### [练习 1.4](1.4.cpp)

> 我们的程序使用加法运算符 + 来将两个数相加。编写程序使用乘法运算符 *，来打印两个数的积。



### [练习 1.5](1.5.cpp)

> 我们将所有输出操作放在一条很长的语句中。重写程序，将每个运算对象的打印操作放在一条独立的语句中。



### 练习 1.6

> 解释下面程序片段是否合法。
>
> ```c++
> std::cout << "The sum of " << v1;
>           << " and " << v2;
>           << " is " << v1 + v2 << std::endl;
> ```
>
> 如果程序是合法的，它输出什么？如果程序不合法，原因何在？应该如何修正？

程序不合法，因为分号为一条语句结束的标志，故第 2、3 行代码的第一个输出运算符 `<<` 没有左侧的 ostream 对象，无法正确输出。正确代码如下：

```c++
std::cout << "The sum of " << v1;
std::cout << " and " << v2;
std::cout << " is " << v1 + v2 << std::endl;
```



# 1.3 注释简介

### 练习 1.7

> 编译一个包含不正确的嵌套注释的程序，观察编译器返回的错误信息。

编译不正确嵌套的错误信息：

```shell
warning: '/*' within block comment [-Wcoment]
error: expected expression
1 warning and 2 errors generated.
```



### 练习 1.8

> 指出下列哪些输出语句是合法的（如果有的话）：
>
> ```c++
> std::cout << "/*";
> std::cout << "*/";
> std::cout << /* "*/" */;
> std::cout << /* "*/" /* "/*" */;
> ```
>
> 预测编译这些语句会产生什么样的结果，实际编译这些语句来验证你的答案（编写一个小程序，每次将上述一条语句作为其主体），改正每个编译错误。

- `std::cout << "/*";` 合法（未构成注释对），输出 `/*`
- `std::cout << "*/";` 合法（未构成注释对），输出 `*/`
- `std::cout << /* "*/" */;` 不合法，编译输出 `warning: missing terminating`
- `std::cout << /* "*/" /* "/*" */;` 合法，输出 ` /* `



# 1.4 控制流

## 1.4.1 while 语句

### [练习 1.9](1.9.cpp)

> 编写程序，使用 while 循环将 50 到 100 的整数相加。



### [练习 1.10](1.10.cpp)

> 除了 ++ 运算符将运算对象的值增加 1 之外，还有一个递减运算符 (--) 实现将值减少 1。编写程序，使用递减运算符在循环中按递减顺序打印出 10 到 0 之间的整数。



### [练习 1.11](1.11.cpp)

> 编写程序，提示用户输入两个整数，打印出这两个整数所指定的范围内的所有整数。



## 1.4.2 for 语句

### 练习 1.12

> 下面的 for 循环完成了什么功能？sum 的终值是多少？
>
> ```c++
> int sum = 0;
> for (int i = -100; i < 100; ++i) sum += i;
> ```

此循环完成 -100 到 100 的所有整数的求和，`sum` 的终值为 0



### 练习 1.13

> 使用 for 循环重做 [1.4.1 节](#141-while-语句)中的所有练习（第 11 页）。

- [练习 1.9](1.9_2.cpp)
- [练习 1.10](1.10_2.cpp)
- [练习 1.11](1.11_2.cpp)



### 练习 1.14

> 对比 for 循环和 while 循环，两种形式的优缺点各是什么？

- `for` 循环的循环控制变量的初始化和修改都放在语句头部分，形式较简洁，但适用于循环次数已知的情况；
- `while` 循环的循环控制变量的初始化一般放在循环语句之前，控制变量的修改一般放在循环体中，形式不如 `for` 循环简洁，但适用于循环次数不易预知的情况。



### 练习 1.15

> 编写程序，包含第 14 页”再探编译“中讨论的常见错误。熟悉编译器生成的错误信息。

- 语法错误：`error: expected ';' at end of declaration`
- 类型错误：`error: cannot initialize a variable of type 'int' with an lvalue of type 'const char [2]'`
- 声明错误：`error: use of undeclared identifier 'd'`



## 1.4.3 读取数量不定的输入数据

### [练习 1.16](1.16.cpp)

> 编写程序，从 cin 读取一组数，输出其和。



## 1.4.4 if 语句

### 练习 1.17

> 如果输入的所有值都是相等的，本节的程序会输出什么？如果没有重复值，输出又会是怎样的？

输入的所有值都相等时，输出 `3 occurs 6 times`

没有重复值时，输出

```shell
1 occurs 1 times
2 occurs 1 times
3 occurs 1 times
```



### [练习 1.18](1.18.cpp)

> 编译并运行本节的程序，给它输入全都相等的值。再次运行程序，输入没有重复的值。



### [练习 1.19](1.19.cpp)

> 修改你为 [1.4.1 节练习 1.10](#练习-110)（第 11 页）所编写的程序（打印一个范围内的数），使其能处理用户输入的第一个数比第二个数小的情况。



# 1.5 类简介

## 1.5.1 Sales_item 类

### [练习 1.20](1.20.cpp)

> 在网站 http://www.informit.com/title/032174113 上，第 1 章的代码目录包含了头文件 (Sales_item.h)[Sales_item.h]。将它拷贝到你自己的工作目录中。用它编写一个程序，读取一组书籍销售记录，将每条记录打印到标准输出上。



### [练习 1.21](1.21.cpp)

> 编写程序，读取两个 ISBN 相同的 Sales_item 对象，输出它们的和。



### [练习 1.22](1.22.cpp)

> 编写程序，读取多个具有相同 ISBN 的销售记录，输出所有记录的和。



## 1.5.2 初识成员函数

### [练习 1.23](1.23.cpp)

> 编写程序，读取多条销售记录，并统计每个 ISBN（每本书）有几条销售记录。



### 练习 1.24

> 输入表示多个 ISBN 的多条销售记录来测试上一个程序，每个 ISBN 的记录应该聚在一起。

输入

```
0-201-78345-X 3 20.00
0-201-78345-X 2 25.00
0-201-78345-X 3 20.00

0-201-78343-X 2 25.00
0-201-78343-X 3 20.00

0-201-78347-X 2 25.00
0-201-78347-X 3 20.00
0-201-78347-X 2 25.00
```

输出 `Total: 20 440 22 `



# 1.6 书店程序

### [练习 1.25](1.25.cpp)

> 借助网站上的 Sales_item.h 头文件，编译并运行本节所给出的书店程序。



---

下一章：[第 2 章 变量和基本类型](../第%202%20章%20变量和基本类型/第%202%20章%20变量和基本类型.md)
